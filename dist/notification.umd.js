!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).UnsupportedBrowserNotification=e()}(this,(function(){"use strict";return class{constructor(t){this.defaultTranslations={de:{title:"Leider ist Ihr Browser veraltet.",description:"Wir empfehlen Ihnen eine neuere Version oder einen alternativen Browser zu verwenden, um die volle FunktionalitÃ¤t unserer Seite zu erhalten."},en:{title:"Unfortunately, your browser is out of date.",description:"We recommend that you use a newer version or an alternative browser to get the full functionality of our site."}},this.defaultOptions={title:"",description:"",injectCss:!0,injectHtml:!0,cssPrefix:"ubn",lang:"auto",translations:{},backdropOpacity:"0.5",backdropColor:"#000000",closeColor:"#ffffff",cookie:"ubn-hidden",showNotification:["ie","edge"]},this.options={...this.defaultOptions,...t},this.cssPrefix=this.options.cssPrefix}init(){this.defaultOptions.injectCss&&this.injectCSS(),this.defaultOptions.injectHtml&&this.injectHTML(),this.listeners(),this.show()}detectLanguage(){const t=document.getElementsByTagName("html")[0],e=t.getAttribute("lang")||t.getAttribute("xml:lang");let n=this.options.lang;return"auto"===this.options.lang&&e?n=e.substring(0,2):"auto"===this.options.lang&&(console.warn("The language could not be automatically detected. Please use the option 'lang' to set it manually. The fallback goes automatically to 'en' for english."),n="en"),n}detectBrowser(){const t=window.navigator.userAgent.toLowerCase();switch(!0){case t.indexOf("edge")>-1:return"edge";case t.indexOf("edg/")>-1:return"edge-chromium";case t.indexOf("opr")>-1&&!!window.opr:return"opera";case t.indexOf("chrome")>-1&&!!window.chrome:return"chrome";case t.indexOf("trident")>-1:return"ie";case t.indexOf("firefox")>-1:return"firefox";case t.indexOf("safari")>-1:return"safari";default:return"other"}}isUnsupported(){return t=this.detectBrowser(),this.options.showNotification.indexOf(t)>-1;var t}text(){const t=this.detectLanguage();let e="",n="";const i={...this.defaultTranslations,...this.options.translations}[t];return this.options.title&&this.options.title.length>0&&(e=this.options.title),this.options.description&&this.options.title.description>0&&(n=this.options.description),!e&&!e.length>0&&i.title&&(e=i.title),!n&&!n.length>0&&i.description&&(n=i.description),{title:e,description:n}}injectCSS(){const{cssPrefix:t}=this.options,e=`\n            .${this.cssPrefix} {\n                position: fixed;\n                z-index: 100000;\n                top: 0px;\n                left: 0px;\n                right: 0px;\n                bottom: 0px;\n            }\n            \n            .${this.cssPrefix}--is-hidden {\n                display: none !important;\n            }\n            \n            .${this.cssPrefix}__backdrop {\n                position: fixed;\n                top: 0px;\n                left: 0px;\n                right: 0px;\n                bottom: 0px;\n                background-color: ${this.options.backdropColor};\n                opacity: ${this.options.backdropOpacity};\n            }\n            \n            .${this.cssPrefix}__modal {\n                position: absolute;\n                z-index: 5;\n                -webkit-transform: translateX(-50%) translateY(-50%);\n                    -ms-transform: translateX(-50%) translateY(-50%);\n                        transform: translateX(-50%) translateY(-50%);\n                top: 50%;\n                left: 50%;\n                max-width: 700px;\n                width: 100%;\n                padding: 0 45px;\n            }\n            \n            .${this.cssPrefix}__dialog {\n                background-color: #ffffff;\n                padding: 30px;\n            }\n            \n            .${this.cssPrefix}__header {\n                margin-bottom: 15px;\n            }\n            \n            .${this.cssPrefix}__title {\n                font-size: 24px;\n                font-weight: bold;\n                margin: 0;\n            }\n            \n            .${this.cssPrefix}__description {\n                margin: 0;\n            }\n            \n            .${this.cssPrefix}__close-button {\n                position: absolute;\n                top: 30px;\n                right: 30px;\n                width: 24px;\n                height: 24px;\n                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath fill='%23${this.options.closeColor.replace("#","")}' d='M27.6,24L46.3,5.3c1-1,1-2.6,0-3.6c-1-1-2.6-1-3.6,0L24,20.4L5.3,1.7c-1-1-2.6-1-3.6,0s-1,2.6,0,3.6L20.4,24 L1.7,42.7c-1,1-1,2.6,0,3.6C2.3,46.8,2.9,47,3.5,47s1.3-0.3,1.8-0.7L24,27.6l18.7,18.7c0.5,0.5,1.1,0.7,1.8,0.7s1.3-0.3,1.8-0.7 c1-1,1-2.6,0-3.6L27.6,24z'/%3E%3C/svg%3E%0A");\n                cursor: pointer;\n            }        \n        `,n=document.createElement("style");n.textContent=e,document.body.appendChild(n)}injectHTML(){const{cssPrefix:t}=this.options,e=`\n            <div class="${t} ${t}--is-hidden">\n                <div class="${t}__modal">\n                    <div class="${t}__dialog">\n                        <div class="${t}__header">\n                            <h5 class="${t}__title">${this.text().title}</h5>\n                        </div>\n                        <div class="${t}__body">\n                            <p class="${t}__description">${this.text().description}</p>\n                        </div>\n                    </div>\n                </div>\n            \n                <div class="${t}__backdrop"></div>\n                <div class="${t}__close-button" type="button"></div>\n            </div>\n        `;document.body.insertAdjacentHTML("beforeend",e)}listeners(){document.querySelector(`.${this.cssPrefix}__close-button`).addEventListener("click",(()=>{this.hide()}))}hide(){document.querySelector(`.${this.cssPrefix}`).classList.add(`${this.cssPrefix}--is-hidden`),((t,e,n)=>{const i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie=`${t}=${e};path=/;expires=${i.toGMTString()}`})(this.options.cookie,"1",1)}show(){const t=(t=>{const e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null})(this.options.cookie),e=document.querySelector(`.${this.cssPrefix}`);this.isUnsupported()&&"1"!==t&&e.classList.remove(`${this.cssPrefix}--is-hidden`)}}}));
//# sourceMappingURL=notification.umd.js.map
